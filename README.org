#+TITLE: cl-gtk4
* Requirement
Before getting started, please ensure these libraries are available in your system:
- GTK4
- GObject Introspection
- WebKit2GTK (optional)
- libadwaita (optional)
Theoretically, the application built with ~cl-gtk4~ can run on most systems supported by GTK4 and most implementations that support CFFI callback (required by ~cl-gobject-introspection~).
The [[file:example/][examples]] are tested to run on following implementations:
- SBCL
  - Microsoft Windows \\
    [[file:examples/screenshots/adw-win.png]]
  - MacOS \\
    See: [[https://ibb.co/7KZz3r2]]
  - GNU/Linux \\
    See the screenshots in the [[Examples][Examples]] section.
- CCL
- ECL
- ABCL
* Usage
1. Currently, ~cl-gtk4~ is available on [[https://ultralisp.org][Ultralisp]],  so it can be downloaded via Quicklisp with Ultralisp installed as its distribution.
   To install ~cl-gtk4~ manually, you can clone this repository along with the following dependencies into the ~local-projects~ under your Quicklisp installation root:
   - [[https://github.com/bohonghuang/cl-gobject-introspection-wrapper][cl-gobject-introspection-wrapper]]
   - [[https://github.com/bohonghuang/cl-glib][cl-glib]]
2. Load the library with:
   - ~(ql:quickload :cl-gtk4)~
   - ~(ql:quickload :cl-gtk4.adw)~ (if you need libadwaita)
   - ~(ql:quickload :cl-gtk4.webkit2)~ (if you need WebKit2GTK)
3. For GTK4 usage, please refer to [[https://docs.gtk.org/gtk4/][GTK API reference]] and check out the [[https://github.com/bohonghuang/cl-gobject-introspection-wrapper#conversion-rules][conversion rules]] for these APIs.
* Examples
** [[file:examples/gtk4.lisp::24][Simple Counter]]
[[file:examples/screenshots/gtk4-simple.png]]

To run this example, eval the following in your REPL:
#+BEGIN_SRC lisp
  (ql:quickload :cl-gtk4/example)
  (gtk4.example:simple)
#+END_SRC
** [[file:examples/gtk4.lisp::52][Fibonacci Calculator]] (Bordeaux Threads)
[[file:examples/screenshots/gtk4-fibonacci.png]]

To run this example, eval the following in your REPL:
#+BEGIN_SRC lisp
  (ql:quickload :cl-gtk4/example)
  (gtk4.example:fibonacci)
#+END_SRC
** [[file:examples/adw.lisp][Simple Lisp REPL]] (Libadwaita)
[[file:examples/screenshots/adw.png]]

To run this example, eval the following in your REPL:
#+BEGIN_SRC lisp
  (ql:quickload :cl-gtk4.adw/example)
  (adw.example:main)
#+END_SRC
** [[file:examples/webkit2.lisp][Simple Web Browser]] (WebKit2GTK)
[[file:examples/screenshots/webkit2.png]]

To run this example, eval the following in your REPL:
#+BEGIN_SRC lisp
  (ql:quickload :cl-gtk4.webkit2/example)
  (webkit2.example:main)
#+END_SRC
